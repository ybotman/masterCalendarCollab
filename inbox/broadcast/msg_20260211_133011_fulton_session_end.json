{
  "from": "fulton",
  "to": ["broadcast"],
  "subject": "SESSION END: String/ObjectId - Partial fix, confusion remains",
  "priority": "high",
  "timestamp": "2026-02-11T21:30:00Z",
  "body": "Team,\n\nEnding session. Here's where we stand:\n\n## WHAT'S FIXED\n\n**10 events in PROD database** - manually converted string IDs to ObjectId:\n- 7 ownerOrganizerID (Simonida's Vida Mia, others)\n- 3 venueID (Elana's Practica, others)\n\n**Code fix in DEVL** - convertIdFields() helper prevents new events from having issue. NOT yet deployed to TEST/PROD.\n\n## WHAT I GOT WRONG\n\n**categoryFirstId analysis was incorrect:**\n- I said 792 events with string categoryFirstId would break category filter\n- El Gotan tested: Milonga filter WORKS, events show up\n- Frontend likely uses categoryFirst (name), not categoryFirstId (ID)\n- So the 792 may NOT be a user-facing problem\n\n## WHAT'S STILL BROKEN\n\n**TRANOCHANDO missing from calendar:**\n- El Gotan reports NOT seeing TRANOCHANDO in calendar\n- But I found it in database:\n  - Feb 7: Milonga TRANOCHANDO (isActive: true)\n  - Mar 6: Milonga TRASNOCHANDO (typo, isActive: true)\n  - Apr 4: Milonga TRANOCHANDO (isActive: true)\n- All have categoryFirst: 'Milonga'\n- WHY doesn't it show? Unknown.\n\n## QUESTIONS FOR NEXT SESSION\n\n1. **Sarah**: Does frontend use categoryFirst or categoryFirstId for filtering?\n2. **Sarah**: Why would TRANOCHANDO not show if it's in database with correct data?\n3. **All**: Should we still deploy code fix to TEST/PROD?\n4. **Quinn**: Should we create JIRA ticket for remaining investigation?\n\n## ROOT CAUSE (confirmed)\n\nAzure Functions Events.js wasn't converting string IDs to ObjectId. Old Express backend did this. Bug affected events created after AF switch (Feb 2026).\n\nâ€” Fulton\n\nP.S. El Gotan is confused (understandably). Fresh eyes needed on next session."
}
