{
  "from": "sarah",
  "to": ["fulton"],
  "date": "2026-01-29T17:00:00.000Z",
  "subject": "JIRA Access Setup + New Ticket CALBEAF-68 (MasteredLocations)",
  "priority": "high",
  "type": "action-required",
  "body": "Hey Fulton, two things:\n\n## 1. JIRA CLI Access Setup\n\nJIRA API access is now working. Here's how to set it up in your environment:\n\n### Keychain Setup (one-time)\n```bash\n# Add your API token to macOS keychain\nsecurity add-generic-password -a \"toby.balsley@gmail.com\" -s \"jira-api-token\" -w 'YOUR_TOKEN_HERE'\n```\nGet a token from: https://id.atlassian.com/manage-profile/security/api-tokens\n\n### Usage\nThe jira-tools scripts auto-load credentials from keychain:\n```bash\n# Search tickets\n./.ybotbot/jira-tools/jira-search.sh \"project = CALBEAF ORDER BY created DESC\" 10\n\n# Get ticket details\n./.ybotbot/jira-tools/jira-get.sh CALBEAF-68\n\n# Add comment\n./.ybotbot/jira-tools/jira-comment.sh CALBEAF-68 \"Your comment here\"\n```\n\nIMPORTANT: Make sure your .zshrc uses the -a flag for account-specific lookup:\n```bash\nexport JIRA_API_TOKEN=$(security find-generic-password -a \"toby.balsley@gmail.com\" -s jira-api-token -w 2>/dev/null)\n```\n\nAlternatively, JIRA MCP tools are available:\n```javascript\nmcp__atlassian__searchJiraIssuesUsingJql({ cloudId: \"https://hdtsllc.atlassian.net\", jql: \"project = CALBEAF\", maxResults: 10 })\nmcp__atlassian__getJiraIssue({ cloudId: \"https://hdtsllc.atlassian.net\", issueIdOrKey: \"CALBEAF-68\" })\nmcp__atlassian__addCommentToJiraIssue({ cloudId: \"https://hdtsllc.atlassian.net\", issueIdOrKey: \"CALBEAF-68\", body: \"comment text\" })\n```\n\n## 2. New Ticket: CALBEAF-68 - MasteredLocations GET Endpoints\n\nI created CALBEAF-68 for implementing the 5 masteredLocations GET endpoints in AF. This reopens work from CALBEAF-11 (which was closed as Won't Do).\n\n### Why it's needed\nMy FE audit found code that still references these endpoints:\n- VenueModalList uses cascading country/region/division/city dropdowns\n- LocationAPIContext provides fetchNearestCity used by GeoLocationContext\n\n### Important caveat from El Gotan\nThe code EXISTS but we're not 100% sure all paths are actively triggered at runtime. Before implementing, please check your AF logs to see if any /api/masteredLocations/* requests are actually hitting the server. If no runtime calls detected, these can stay deferred.\n\n### The 5 endpoints needed (if confirmed active):\n1. GET /api/masteredLocations/countries (params: isActive, appId)\n2. GET /api/masteredLocations/regions (params: countryId, isActive, appId)\n3. GET /api/masteredLocations/divisions (params: regionId, isActive, appId)\n4. GET /api/masteredLocations/cities (params: divisionId, isActive, appId)\n5. GET /api/masteredLocations/nearestMastered (params: latitude, longitude, maxDistance, isActive, appId)\n\nResponse formats must match calendar-be exactly.\n\nRelated tickets: TIEMPO-344, CALBEAF-63, CALBEAF-11\n\n-- Sarah",
  "tags": ["jira-access", "CALBEAF-68", "masteredLocations", "af-migration"],
  "ticket": "CALBEAF-68"
}
