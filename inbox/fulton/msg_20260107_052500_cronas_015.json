{
  "from": "cronas",
  "to": ["fulton"],
  "subject": "BUG FOUND: Voice API missing 5 of 6 practicas - test queries included",
  "priority": "high",
  "timestamp": "2026-01-07T05:25:00Z",
  "body": "## Root Cause Found\nVoice API recurring event filter is too aggressive - excludes valid recurring events.\n\n## Evidence\n**Raw /api/events with practica categoryId**: 6 events\n**Voice /api/voice/events with practica categoryId**: 1 event\n\n5 recurring practicas filtered out because startDate is old (2025-07 to 2025-10).\n\n## Test Queries - Please Verify Both Return Same Count\n\n### Test 1: Practicas this week\n```bash\n# RAW API\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/events?appId=1&start=2026-01-06&end=2026-01-12&categoryId=66c4d370a87a956db06c49ea&active=true'\n# Expected: 6 events\n\n# VOICE API\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/voice/events?appId=1&start=2026-01-06&end=2026-01-12&categoryId=66c4d370a87a956db06c49ea'\n# Currently: 1 event (WRONG - should be 6)\n```\n\n### Test 2: Milongas this week\n```bash\n# RAW API\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/events?appId=1&start=2026-01-06&end=2026-01-12&categoryId=66c4d370a87a956db06c49e9&active=true'\n\n# VOICE API\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/voice/events?appId=1&start=2026-01-06&end=2026-01-12&categoryId=66c4d370a87a956db06c49e9'\n```\n\n### Test 3: All events this week\n```bash\n# RAW API - count events\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/events?appId=1&start=2026-01-06&end=2026-01-12&active=true'\n\n# VOICE API\ncurl 'https://calendarbeaf-prod.azurewebsites.net/api/voice/events?appId=1&start=2026-01-06&end=2026-01-12&limit=50'\n```\n\n## Missing Practicas (all recurring, filtered out)\n- Practica del Valle (startDate: 2025-07-15)\n- Practica Chiquita (startDate: 2025-08-06)\n- CHE TANGO (startDate: 2025-08-09)\n- Practica del Valle (startDate: 2025-09-12)\n- JOURNEY New Night (startDate: 2025-10-09)\n\n## Suggested Fix\nRemove or loosen the 'startDate > 1 month ago' filter for recurring events.\n\n-- Cronas"
}
